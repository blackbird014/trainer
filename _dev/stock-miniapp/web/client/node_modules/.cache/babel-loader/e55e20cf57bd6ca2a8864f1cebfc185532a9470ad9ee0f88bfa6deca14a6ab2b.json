{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const[error,setError]=useState(null);const[count,setCount]=useState(100);const handleSeedCompanies=async()=>{setLoading(true);setError(null);setResult(null);try{const response=await fetch('/api/admin/seed-companies',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({count:count,collection:'seed_companies'})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.detail||'Failed to seed companies');}const data=await response.json();setResult(data);}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Stock Mini-App - Admin Panel\"})}),/*#__PURE__*/_jsx(\"main\",{className:\"App-main\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"seed-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Seed Companies\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generate and store fake company data in MongoDB.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"count\",children:\"Number of companies:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"count\",type:\"number\",min:\"1\",max:\"1000\",value:count,onChange:e=>setCount(parseInt(e.target.value)||100),disabled:loading})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSeedCompanies,disabled:loading,className:\"seed-button\",children:loading?'Seeding...':\"Seed \".concat(count,\" Companies\")}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"success-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2705 Success!\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Companies stored: \",/*#__PURE__*/_jsx(\"strong\",{children:result.records_loaded})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Total in collection: \",/*#__PURE__*/_jsx(\"strong\",{children:result.total_in_collection})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Collection: \",/*#__PURE__*/_jsx(\"strong\",{children:result.collection})]}),result.errors&&result.errors.length>0&&/*#__PURE__*/_jsxs(\"li\",{children:[\"Errors: \",/*#__PURE__*/_jsx(\"strong\",{children:result.errors.length})]})]}),result.keys&&result.keys.length>0&&/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Sample Keys (first 10)\"}),/*#__PURE__*/_jsx(\"ul\",{children:result.keys.map((key,idx)=>/*#__PURE__*/_jsx(\"li\",{children:key},idx))})]})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","loading","setLoading","result","setResult","error","setError","count","setCount","handleSeedCompanies","response","fetch","method","headers","body","JSON","stringify","collection","ok","errorData","json","Error","detail","data","err","message","className","children","htmlFor","id","type","min","max","value","onChange","e","parseInt","target","disabled","onClick","concat","records_loaded","total_in_collection","errors","length","keys","map","key","idx"],"sources":["/Users/andreamerli/projects/development/trainer/_dev/stock-miniapp/web/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [count, setCount] = useState(100);\n\n  const handleSeedCompanies = async () => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const response = await fetch('/api/admin/seed-companies', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          count: count,\n          collection: 'seed_companies'\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Failed to seed companies');\n      }\n\n      const data = await response.json();\n      setResult(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Stock Mini-App - Admin Panel</h1>\n      </header>\n\n      <main className=\"App-main\">\n        <section className=\"seed-section\">\n          <h2>Seed Companies</h2>\n          <p>Generate and store fake company data in MongoDB.</p>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"count\">Number of companies:</label>\n            <input\n              id=\"count\"\n              type=\"number\"\n              min=\"1\"\n              max=\"1000\"\n              value={count}\n              onChange={(e) => setCount(parseInt(e.target.value) || 100)}\n              disabled={loading}\n            />\n          </div>\n\n          <button\n            onClick={handleSeedCompanies}\n            disabled={loading}\n            className=\"seed-button\"\n          >\n            {loading ? 'Seeding...' : `Seed ${count} Companies`}\n          </button>\n\n          {error && (\n            <div className=\"error-message\">\n              <strong>Error:</strong> {error}\n            </div>\n          )}\n\n          {result && (\n            <div className=\"success-message\">\n              <h3>âœ… Success!</h3>\n              <ul>\n                <li>Companies stored: <strong>{result.records_loaded}</strong></li>\n                <li>Total in collection: <strong>{result.total_in_collection}</strong></li>\n                <li>Collection: <strong>{result.collection}</strong></li>\n                {result.errors && result.errors.length > 0 && (\n                  <li>Errors: <strong>{result.errors.length}</strong></li>\n                )}\n              </ul>\n              {result.keys && result.keys.length > 0 && (\n                <details>\n                  <summary>Sample Keys (first 10)</summary>\n                  <ul>\n                    {result.keys.map((key, idx) => (\n                      <li key={idx}>{key}</li>\n                    ))}\n                  </ul>\n                </details>\n              )}\n            </div>\n          )}\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}